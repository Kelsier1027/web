<div class="list-header">
  <div class="list-header-text">獎勵活動達成禮＆補出商品</div>
  <div class="list-header-badge">
    {{awardsChecked.length}}
  </div>
</div>
<table class="list-product" mat-table [dataSource]="awards" *ngIf="currentScreenSize !=='small'">
  <ng-container matColumnDef="activityName">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox
      color="primary"
      [checked]="awardsChecked.length === awards.length"
      (change)="checkedAllFunction($event)"
    ></mat-checkbox>
      <span>活動名稱</span>
    </th>
    <td mat-cell *matCellDef="let element">
      <mat-checkbox
      color="primary"
      [checked]="awardsChecked.includes(element.giftListId)"
      (change)="checkedFunction($event, element.giftListId)"
    ></mat-checkbox>
      <span>{{ element.activityName }}</span>
    </td>
  </ng-container>
  <ng-container matColumnDef="shipType">
    <th mat-header-cell *matHeaderCellDef>商品類別</th>
    <td mat-cell *matCellDef="let element">{{ element.productType }}</td>
  </ng-container>
  <ng-container matColumnDef="productName">
    <th mat-header-cell *matHeaderCellDef>商品名稱</th>
    <td mat-cell *matCellDef="let element">{{ element.productName }}</td>
  </ng-container>
  <ng-container matColumnDef="number">
    <th mat-header-cell *matHeaderCellDef>數量</th>
    <td mat-cell *matCellDef="let element">{{ element.number }}</td>
  </ng-container>
  <ng-container matColumnDef="closeTime">
    <th mat-header-cell *matHeaderCellDef>兌換截止日期</th>
    <td mat-cell *matCellDef="let element">{{ element.closeTime | date : "yyyy/MM/dd" }}</td>
  </ng-container>

  <tr
    mat-header-row
    *matHeaderRowDef="['activityName', 'shipType', 'productName', 'number', 'closeTime']"
  ></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: ['activityName', 'shipType', 'productName', 'number', 'closeTime']"
  ></tr>
</table>


<table class="list-product" mat-table [dataSource]="awards" *ngIf="currentScreenSize ==='small'">
  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef>
      <div class="checkbox-container">
        <mat-checkbox
        color="primary"
        [checked]="awardsChecked.length === awards.length"
        (change)="checkedAllFunction($event)"
      ></mat-checkbox>
        <span>所有贈品</span>
      </div>
      <!-- <div class="toggle-list">
        <ng-container *ngIf="ShowList; else remove">
          <button
            class="toggle-list-item"
            type="button"
            mat-button
            mat-icon-button
            matSuffix
            aria-label="Remove"
            (click)="togglelist()"
          >
          <mat-icon>remove</mat-icon>
          </button>
        </ng-container>
        <ng-template #remove>
          <button
            class="toggle-list-item"
            type="button"
            mat-button
            mat-icon-button
            matSuffix
            aria-label="Add"
            (click)="togglelist()"
          >
          <mat-icon>add</mat-icon>
          </button>
        </ng-template>
      </div> -->

    </th>
  </ng-container>
  <ng-container matColumnDef="checkbox">
    <td mat-cell *matCellDef="let element">
      <mat-checkbox
      color="primary"
      [checked]="awardsChecked.includes(element.giftListId)"
      (change)="checkedFunction($event, element.giftListId)"
    ></mat-checkbox>
    </td>
  </ng-container>

  <ng-container matColumnDef="activityName">
    <td mat-cell *matCellDef="let element">
      <span class="activityName">{{ element.activityName }}</span>
      <span class="productName">{{ element.productName }}</span>
    </td>
  </ng-container>
  <ng-container matColumnDef="number">
    <td mat-cell *matCellDef="let element">
      <div class="numberGroup">
        <p>數量</p>
        <span>{{ element.number }}</span>
      </div>
      <div class="dateGroup">
      <p>兌換截止日期</p>
      <span>{{ element.closeTime | date : "yyyy/MM/dd" }}</span>
      </div>
    </td>
  </ng-container>

  <tr
    mat-header-row
    *matHeaderRowDef="['title']"
  ></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: ShowListColumns"
  ></tr>
</table>
